<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>Kinetis SDK v.1.1 API Reference Manual: TSI Peripheral Driver</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="customdoxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="fs_logo.gif"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">Kinetis SDK v.1.1 API Reference Manual
   &#160;<span id="projectnumber">Rev. 0</span>
   </div>
   <div id="projectbrief">Freescale Semiconductor, Inc.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>API&#160;Reference</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group__tsi__driver.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#files">Files</a> &#124;
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">TSI Peripheral Driver<div class="ingroups"><a class="el" href="group__tsi.html">Touch Sense Input (TSI)</a></div></div>  </div>
</div><!--header-->
<div class="contents">
<a name="details" id="details"></a><h2 class="groupheader">Overview</h2>
<p>The section describes the programming interface of the TSI Peripheral driver</p>
<h1><a class="anchor" id="TSIOv"></a>
Overview</h1>
<p>The TSI peripheral driver provide functionality to measure capacitance on electrodes (touch sensing) in various modes and provides APIs for input/output operations.</p>
<div class="image">
<img src="TSI_Block.jpg" alt="TSI_Block.jpg"/>
<div class="caption">
TSI Driver Block Diagram</div></div>
  <h1><a class="anchor" id="TSIInit"></a>
TSI Initialization</h1>
<p>The initialization of the TSI driver is simple, the application must define the startup configuration and handle to initialization routine. <br/>
<br/>
Include "fsl_tsi_driver.h" header file in source files where you want to use TSI driver to operate touch sensing functionality.<br/>
</p>
<p>Example of the TSI driver initialization (with example of configuration) and simple measurement:</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &quot;<a class="code" href="fsl__tsi__driver_8h.html">fsl_tsi_driver.h</a>&quot;</span></div>
<div class="line"></div>
<div class="line"><span class="comment">// Declaration of TSI callback function</span></div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span> tsi_irq_callback(uint32_t instance, <span class="keywordtype">void</span>* usrData);</div>
<div class="line"></div>
<div class="line"><span class="comment">// Set up the HW configuration for normal mode of TSI</span></div>
<div class="line"><span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="group__tsi__hal.html#structtsi__config__t">tsi_config_t</a> tsi_HwConfig =</div>
<div class="line">{</div>
<div class="line">  .<a class="code" href="group__tsi__hal.html#a1fad32c0ebe9dd0f0677890f8e44907d">ps</a> = <a class="code" href="group__tsi__hal.html#gga7e69f76860ffced1f7256a993fc30c2ea3b40ac983df5c1006460af3961dd74a8">kTsiElecOscPrescaler_2div</a>,       </div>
<div class="line">  .extchrg = <a class="code" href="group__tsi__hal.html#ggafc8d669ee8cb0039d5897befb371b882a8350384159fe0e49ebfe48bdfac3a873">kTsiExtOscChargeCurrent_10uA</a>,  </div>
<div class="line">  .refchrg = <a class="code" href="group__tsi__hal.html#gga2d534b8379a1ce32d29e25b2779dd1dba1df7cc4f02ab0fed1448a7b4c5ed350a">kTsiRefOscChargeCurrent_10uA</a>,  </div>
<div class="line">  .nscn = <a class="code" href="group__tsi__hal.html#ggab0958926dfa41c7ec289ed8194b98b52ad5a1277277eb3b4da8334365b4e9b062">kTsiConsecutiveScansNumber_8time</a>,     </div>
<div class="line">  .lpclks = <a class="code" href="group__tsi__hal.html#gga2158ee4c536006ec3632fb96f2fa05b4a00ef5a24549f9a4d39128add672280e1">kTsiLowPowerInterval_100ms</a>,   </div>
<div class="line">  .amclks = <a class="code" href="group__tsi__hal.html#gga2a15444945629e28a0302b647f6ed157a9ed375a9d79d55ce548d12cd249c7e7b">kTsiActiveClkSource_BusClock</a>,   </div>
<div class="line">  .ampsc = <a class="code" href="group__tsi__hal.html#gga94893c6f950ed6bd9cde6c252bb81242aae274a05394287abc7da07f9abfc70d7">kTsiActiveModePrescaler_8div</a>,    </div>
<div class="line">  .lpscnitv = <a class="code" href="group__tsi__hal.html#gga2158ee4c536006ec3632fb96f2fa05b4a00ef5a24549f9a4d39128add672280e1">kTsiLowPowerInterval_100ms</a>, </div>
<div class="line">  .thresh = 100,   </div>
<div class="line">  .thresl = 200,   </div>
<div class="line">};</div>
<div class="line"></div>
<div class="line"><span class="comment">// Set up the configuration of initialization structure</span></div>
<div class="line"><span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="group__tsi__driver.html#structtsi__user__config__t">tsi_user_config_t</a> myTsiConfig =</div>
<div class="line">{</div>
<div class="line">  .<a class="code" href="group__tsi__driver.html#ac06cfdf8d812c700ab637da3339bdddf">config</a> = (<a class="code" href="group__tsi__hal.html#structtsi__config__t">tsi_config_t</a>*)&amp;tsi_HwConfig,</div>
<div class="line">  .pCallBackFunc = tsi_irq_callback,      <span class="comment">// My </span></div>
<div class="line">  .usrData = (<span class="keywordtype">void</span>*)0x12345678,</div>
<div class="line">};</div>
<div class="line"></div>
<div class="line"><span class="comment">// Flag the the measure of TSI ends</span></div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">bool</span> tsi_measureEnds;</div>
<div class="line"></div>
<div class="line"><span class="comment">// The measured value</span></div>
<div class="line"><span class="keyword">static</span> uint16_t tsiData;</div>
<div class="line"></div>
<div class="line"><span class="comment">// The definition of channel number</span></div>
<div class="line"><span class="preprocessor">#define BOARD_TSI_ELECTRODE_1   1</span></div>
<div class="line"><span class="preprocessor"></span></div>
<div class="line"><span class="keywordtype">void</span> main(<span class="keywordtype">void</span>)</div>
<div class="line">{</div>
<div class="line">  <a class="code" href="group__tsi__hal.html#gae16b0cb31944dd3b945dd1493bc9a756">tsi_status_t</a> result;</div>
<div class="line"></div>
<div class="line">  result = <a class="code" href="group__tsi__driver.html#ga2976594d78789f56469fb0103f5d7b69">TSI_DRV_Init</a>(0, &amp;myTsiState, &amp;myTsiConfig);</div>
<div class="line"></div>
<div class="line">  <span class="keywordflow">if</span>(result != kStatus_TSI_Success)</div>
<div class="line">  {</div>
<div class="line">   printf(<span class="stringliteral">&quot;\nThe initialization of TSI driver failed. Result is: %d.&quot;</span>, (uint32_t)result);       </div>
<div class="line">  }</div>
<div class="line"></div>
<div class="line">  <span class="comment">// Enable electrodes for normal mode</span></div>
<div class="line">  result = <a class="code" href="group__tsi__driver.html#ga174e5287b3a0be9d94668193ae0becca">TSI_DRV_EnableElectrode</a>(0, BOARD_TSI_ELECTRODE_1, <span class="keyword">true</span>);</div>
<div class="line"></div>
<div class="line">  <span class="keywordflow">if</span>(result != kStatus_TSI_Success)</div>
<div class="line">  {</div>
<div class="line">    printf(<span class="stringliteral">&quot;\nThe initialization of TSI channel failed. Result is: %d.&quot;</span>, (uint32_t)result);</div>
<div class="line">  }</div>
<div class="line"></div>
<div class="line">  tsi_measureEnds = <span class="keyword">false</span>;</div>
<div class="line"></div>
<div class="line">  <span class="comment">// Kick of measuring process</span></div>
<div class="line">  result = <a class="code" href="group__tsi__driver.html#ga649340175707dd51e8837c342a49308b">TSI_DRV_Measure</a>(0);</div>
<div class="line"></div>
<div class="line">  <span class="keywordflow">if</span>(result != kStatus_TSI_Success)</div>
<div class="line">  {</div>
<div class="line">    printf(<span class="stringliteral">&quot;\nThe call measure of TSI failed. Result is: %d.&quot;</span>, (uint32_t)result);</div>
<div class="line">  }</div>
<div class="line"></div>
<div class="line">  <span class="keywordflow">while</span>(1)</div>
<div class="line">  {</div>
<div class="line">    <span class="keywordflow">if</span>(tsi_measureEnds == <span class="keyword">true</span>)</div>
<div class="line">    {</div>
<div class="line">      <span class="comment">// new TSI data are ready to read</span></div>
<div class="line">      result = <a class="code" href="group__tsi__driver.html#ga98592f74e7c041fc8a48f612db6e77d1">TSI_DRV_GetCounter</a>(0, BOARD_TSI_ELECTRODE_1, &amp;tsiData);</div>
<div class="line"></div>
<div class="line">      <span class="keywordflow">if</span>(result != kStatus_TSI_Success)</div>
<div class="line">      {</div>
<div class="line">        printf(<span class="stringliteral">&quot;\nThe read of TSI failed. Result is: %d.&quot;</span>, (uint32_t)result);</div>
<div class="line">      }</div>
<div class="line"></div>
<div class="line">      <span class="comment">// And measure again</span></div>
<div class="line">      result = <a class="code" href="group__tsi__driver.html#ga649340175707dd51e8837c342a49308b">TSI_DRV_Measure</a>(0);</div>
<div class="line"></div>
<div class="line">      <span class="keywordflow">if</span>(result != kStatus_TSI_Success)</div>
<div class="line">      {</div>
<div class="line">        printf(<span class="stringliteral">&quot;\nThe call measure of TSI failed. Result is: %d.&quot;</span>, (uint32_t)result);</div>
<div class="line">      }<span class="keywordflow">else</span></div>
<div class="line">      {</div>
<div class="line">        tsi_measureEnds = <span class="keyword">false</span>;</div>
<div class="line">      }</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">  }</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="comment">/* Call back function of TSI driver */</span></div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span> tsi_irq_callback(uint32_t instance, <span class="keywordtype">void</span>* usrData)</div>
<div class="line">{</div>
<div class="line">  <span class="comment">// The measure cycle ends</span></div>
<div class="line">  tsi_measureEnds = <span class="keyword">true</span>;</div>
<div class="line">}</div>
</div><!-- fragment --> <table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="files"></a>
Files</h2></td></tr>
<tr class="memitem:fsl__tsi__driver_8h"><td class="memItemLeft" align="right" valign="top">file &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsl__tsi__driver_8h.html">fsl_tsi_driver.h</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:structtsi__user__config__t"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__tsi__driver.html#structtsi__user__config__t">tsi_user_config_t</a></td></tr>
<tr class="memdesc:structtsi__user__config__t"><td class="mdescLeft">&#160;</td><td class="mdescRight">User configuration structure for TSI driver.  <a href="group__tsi__driver.html#structtsi__user__config__t">More...</a><br/></td></tr>
<tr class="separator:structtsi__user__config__t"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:structtsi__operation__mode__t"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__tsi__driver.html#structtsi__operation__mode__t">tsi_operation_mode_t</a></td></tr>
<tr class="memdesc:structtsi__operation__mode__t"><td class="mdescLeft">&#160;</td><td class="mdescRight">Driver operation mode data hold structure.  <a href="group__tsi__driver.html#structtsi__operation__mode__t">More...</a><br/></td></tr>
<tr class="separator:structtsi__operation__mode__t"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:structtsi__state__t"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__tsi__driver.html#structtsi__state__t">tsi_state_t</a></td></tr>
<tr class="memdesc:structtsi__state__t"><td class="mdescLeft">&#160;</td><td class="mdescRight">Driver data storage place.  <a href="group__tsi__driver.html#structtsi__state__t">More...</a><br/></td></tr>
<tr class="separator:structtsi__state__t"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:ga06c8a253cee00f407105143acbc36c36"><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__tsi__driver.html#ga06c8a253cee00f407105143acbc36c36">tsi_callback_t</a> )(uint32_t instance, void *usrData)</td></tr>
<tr class="memdesc:ga06c8a253cee00f407105143acbc36c36"><td class="mdescLeft">&#160;</td><td class="mdescRight">Call back routine of TSI driver.  <a href="#ga06c8a253cee00f407105143acbc36c36">More...</a><br/></td></tr>
<tr class="separator:ga06c8a253cee00f407105143acbc36c36"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:ga7a1c44ef526eb168efeb5325c4206202"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__tsi__driver.html#ga7a1c44ef526eb168efeb5325c4206202">tsi_modes_t</a> { <br/>
&#160;&#160;<a class="el" href="group__tsi__driver.html#gga7a1c44ef526eb168efeb5325c4206202a8476ba7726647ce5db603baf04cc51c6">tsi_OpModeNormal</a> = 0, 
<br/>
&#160;&#160;<a class="el" href="group__tsi__driver.html#gga7a1c44ef526eb168efeb5325c4206202adb05a5ac75ffb68159dc8ad0fe4b8d16">tsi_OpModeProximity</a>, 
<br/>
&#160;&#160;<a class="el" href="group__tsi__driver.html#gga7a1c44ef526eb168efeb5325c4206202af218dcc0bee90e41180b5c58f3348d90">tsi_OpModeLowPower</a>, 
<br/>
&#160;&#160;<a class="el" href="group__tsi__driver.html#gga7a1c44ef526eb168efeb5325c4206202a58b84285be55eef1195e1b382a13758a">tsi_OpModeNoise</a>, 
<br/>
&#160;&#160;<a class="el" href="group__tsi__driver.html#gga7a1c44ef526eb168efeb5325c4206202ad60d8a0aea71a33bd97ffd1369aca8f0">tsi_OpModeCnt</a>, 
<br/>
&#160;&#160;<a class="el" href="group__tsi__driver.html#gga7a1c44ef526eb168efeb5325c4206202afebbf66d4297f33475b1a0e09c64d7f0">tsi_OpModeNoChange</a>
<br/>
 }</td></tr>
<tr class="memdesc:ga7a1c44ef526eb168efeb5325c4206202"><td class="mdescLeft">&#160;</td><td class="mdescRight">Driver operation mode definition.  <a href="group__tsi__driver.html#ga7a1c44ef526eb168efeb5325c4206202">More...</a><br/></td></tr>
<tr class="separator:ga7a1c44ef526eb168efeb5325c4206202"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ga778b7d6c684ec87b9ea4825c6c899dc0"><td class="memItemLeft" align="right" valign="top">const uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__tsi__driver.html#ga778b7d6c684ec87b9ea4825c6c899dc0">g_tsiBaseAddr</a> []</td></tr>
<tr class="memdesc:ga778b7d6c684ec87b9ea4825c6c899dc0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Table of base addresses for tsi instances.  <a href="#ga778b7d6c684ec87b9ea4825c6c899dc0">More...</a><br/></td></tr>
<tr class="separator:ga778b7d6c684ec87b9ea4825c6c899dc0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6884d9c16e38b9d9674a3557319e8bf3"><td class="memItemLeft" align="right" valign="top">const IRQn_Type&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__tsi__driver.html#ga6884d9c16e38b9d9674a3557319e8bf3">g_tsiIrqId</a> [HW_TSI_INSTANCE_COUNT]</td></tr>
<tr class="memdesc:ga6884d9c16e38b9d9674a3557319e8bf3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Table to save tsi IRQ enum numbers defined in CMSIS header file.  <a href="#ga6884d9c16e38b9d9674a3557319e8bf3">More...</a><br/></td></tr>
<tr class="separator:ga6884d9c16e38b9d9674a3557319e8bf3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga954ff9a99e8e54c31c8a19b35481c4de"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__tsi__driver.html#structtsi__state__t">tsi_state_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__tsi__driver.html#ga954ff9a99e8e54c31c8a19b35481c4de">g_tsiStatePtr</a> [HW_TSI_INSTANCE_COUNT]</td></tr>
<tr class="memdesc:ga954ff9a99e8e54c31c8a19b35481c4de"><td class="mdescLeft">&#160;</td><td class="mdescRight">Table to save pointers to context data.  <a href="#ga954ff9a99e8e54c31c8a19b35481c4de">More...</a><br/></td></tr>
<tr class="separator:ga954ff9a99e8e54c31c8a19b35481c4de"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="member-group"></a>
Initialization</h2></td></tr>
<tr class="memitem:ga2976594d78789f56469fb0103f5d7b69"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__tsi__hal.html#gae16b0cb31944dd3b945dd1493bc9a756">tsi_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__tsi__driver.html#ga2976594d78789f56469fb0103f5d7b69">TSI_DRV_Init</a> (const uint32_t instance, <a class="el" href="group__tsi__driver.html#structtsi__state__t">tsi_state_t</a> *tsiState, const <a class="el" href="group__tsi__driver.html#structtsi__user__config__t">tsi_user_config_t</a> *tsiUserConfig)</td></tr>
<tr class="memdesc:ga2976594d78789f56469fb0103f5d7b69"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function initializes a TSI instance for operation.  <a href="#ga2976594d78789f56469fb0103f5d7b69">More...</a><br/></td></tr>
<tr class="separator:ga2976594d78789f56469fb0103f5d7b69"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0466ad81463d80ed27ddbcecf6c88c10"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__tsi__hal.html#gae16b0cb31944dd3b945dd1493bc9a756">tsi_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__tsi__driver.html#ga0466ad81463d80ed27ddbcecf6c88c10">TSI_DRV_DeInit</a> (const uint32_t instance)</td></tr>
<tr class="memdesc:ga0466ad81463d80ed27ddbcecf6c88c10"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function shuts down the TSI by disabling interrupts and disable the peripheral itself.  <a href="#ga0466ad81463d80ed27ddbcecf6c88c10">More...</a><br/></td></tr>
<tr class="separator:ga0466ad81463d80ed27ddbcecf6c88c10"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga174e5287b3a0be9d94668193ae0becca"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__tsi__hal.html#gae16b0cb31944dd3b945dd1493bc9a756">tsi_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__tsi__driver.html#ga174e5287b3a0be9d94668193ae0becca">TSI_DRV_EnableElectrode</a> (const uint32_t instance, const uint32_t channel, const bool enable)</td></tr>
<tr class="memdesc:ga174e5287b3a0be9d94668193ae0becca"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function enables/disables one electrode of TSI module.  <a href="#ga174e5287b3a0be9d94668193ae0becca">More...</a><br/></td></tr>
<tr class="separator:ga174e5287b3a0be9d94668193ae0becca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7ffa5316c78aa42a412a2c4b2f59324a"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__tsi__driver.html#ga7ffa5316c78aa42a412a2c4b2f59324a">TSI_DRV_GetEnabledElectrodes</a> (const uint32_t instance)</td></tr>
<tr class="memdesc:ga7ffa5316c78aa42a412a2c4b2f59324a"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function return mask of enabled electrodes of TSI module.  <a href="#ga7ffa5316c78aa42a412a2c4b2f59324a">More...</a><br/></td></tr>
<tr class="separator:ga7ffa5316c78aa42a412a2c4b2f59324a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga649340175707dd51e8837c342a49308b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__tsi__hal.html#gae16b0cb31944dd3b945dd1493bc9a756">tsi_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__tsi__driver.html#ga649340175707dd51e8837c342a49308b">TSI_DRV_Measure</a> (const uint32_t instance)</td></tr>
<tr class="memdesc:ga649340175707dd51e8837c342a49308b"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function starts the measure cycle of enabled electrodes.  <a href="#ga649340175707dd51e8837c342a49308b">More...</a><br/></td></tr>
<tr class="separator:ga649340175707dd51e8837c342a49308b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf6b0b73c27e9702486d0c9edec395047"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__tsi__hal.html#gae16b0cb31944dd3b945dd1493bc9a756">tsi_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__tsi__driver.html#gaf6b0b73c27e9702486d0c9edec395047">TSI_DRV_MeasureBlocking</a> (const uint32_t instance)</td></tr>
<tr class="memdesc:gaf6b0b73c27e9702486d0c9edec395047"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function starts the measure cycle of enabled electrodes in blocking mode.  <a href="#gaf6b0b73c27e9702486d0c9edec395047">More...</a><br/></td></tr>
<tr class="separator:gaf6b0b73c27e9702486d0c9edec395047"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga99c9fb5e06edf8bf115fd20821b42657"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__tsi__hal.html#gae16b0cb31944dd3b945dd1493bc9a756">tsi_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__tsi__driver.html#ga99c9fb5e06edf8bf115fd20821b42657">TSI_DRV_AbortMeasure</a> (const uint32_t instance)</td></tr>
<tr class="memdesc:ga99c9fb5e06edf8bf115fd20821b42657"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function aborts the measure cycle in non standard situation use of driver.  <a href="#ga99c9fb5e06edf8bf115fd20821b42657">More...</a><br/></td></tr>
<tr class="separator:ga99c9fb5e06edf8bf115fd20821b42657"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga98592f74e7c041fc8a48f612db6e77d1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__tsi__hal.html#gae16b0cb31944dd3b945dd1493bc9a756">tsi_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__tsi__driver.html#ga98592f74e7c041fc8a48f612db6e77d1">TSI_DRV_GetCounter</a> (const uint32_t instance, const uint32_t channel, uint16_t *counter)</td></tr>
<tr class="memdesc:ga98592f74e7c041fc8a48f612db6e77d1"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function return the last value of measurement values.  <a href="#ga98592f74e7c041fc8a48f612db6e77d1">More...</a><br/></td></tr>
<tr class="separator:ga98592f74e7c041fc8a48f612db6e77d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9bd6bda080a30faf39a52e83009688ae"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__tsi__hal.html#gae16b0cb31944dd3b945dd1493bc9a756">tsi_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__tsi__driver.html#ga9bd6bda080a30faf39a52e83009688ae">TSI_DRV_GetStatus</a> (const uint32_t instance)</td></tr>
<tr class="memdesc:ga9bd6bda080a30faf39a52e83009688ae"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function return the current status of the driver.  <a href="#ga9bd6bda080a30faf39a52e83009688ae">More...</a><br/></td></tr>
<tr class="separator:ga9bd6bda080a30faf39a52e83009688ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gafdcc842db40a6dc80a1eadfac2eecdfc"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__tsi__hal.html#gae16b0cb31944dd3b945dd1493bc9a756">tsi_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__tsi__driver.html#gafdcc842db40a6dc80a1eadfac2eecdfc">TSI_DRV_EnableLowPower</a> (const uint32_t instance)</td></tr>
<tr class="memdesc:gafdcc842db40a6dc80a1eadfac2eecdfc"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function enters to low power mode of TSI driver.  <a href="#gafdcc842db40a6dc80a1eadfac2eecdfc">More...</a><br/></td></tr>
<tr class="separator:gafdcc842db40a6dc80a1eadfac2eecdfc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga290d092f8283edb57aaebe9dfb050380"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__tsi__hal.html#gae16b0cb31944dd3b945dd1493bc9a756">tsi_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__tsi__driver.html#ga290d092f8283edb57aaebe9dfb050380">TSI_DRV_DisableLowPower</a> (const uint32_t instance, const <a class="el" href="group__tsi__driver.html#ga7a1c44ef526eb168efeb5325c4206202">tsi_modes_t</a> mode)</td></tr>
<tr class="memdesc:ga290d092f8283edb57aaebe9dfb050380"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function returns back the TSI driver from the low power to standard operation.  <a href="#ga290d092f8283edb57aaebe9dfb050380">More...</a><br/></td></tr>
<tr class="separator:ga290d092f8283edb57aaebe9dfb050380"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga03f53923a31a33ef995ae25a3bd542e3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__tsi__hal.html#gae16b0cb31944dd3b945dd1493bc9a756">tsi_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__tsi__driver.html#ga03f53923a31a33ef995ae25a3bd542e3">TSI_DRV_Recalibrate</a> (const uint32_t instance, uint32_t *lowestSignal)</td></tr>
<tr class="memdesc:ga03f53923a31a33ef995ae25a3bd542e3"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function do automatic recalibration of all important setting of TSI.  <a href="#ga03f53923a31a33ef995ae25a3bd542e3">More...</a><br/></td></tr>
<tr class="separator:ga03f53923a31a33ef995ae25a3bd542e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6e140c40dfd7bc97072f8f70c58710cc"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__tsi__hal.html#gae16b0cb31944dd3b945dd1493bc9a756">tsi_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__tsi__driver.html#ga6e140c40dfd7bc97072f8f70c58710cc">TSI_DRV_SetCallBackFunc</a> (const uint32_t instance, const <a class="el" href="group__tsi__driver.html#ga06c8a253cee00f407105143acbc36c36">tsi_callback_t</a> pFuncCallBack, void *usrData)</td></tr>
<tr class="memdesc:ga6e140c40dfd7bc97072f8f70c58710cc"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function sets the callback function that is called when the measure cycle ends.  <a href="#ga6e140c40dfd7bc97072f8f70c58710cc">More...</a><br/></td></tr>
<tr class="separator:ga6e140c40dfd7bc97072f8f70c58710cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab94171c1a87b2e49b1e79cf649788f9a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__tsi__hal.html#gae16b0cb31944dd3b945dd1493bc9a756">tsi_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__tsi__driver.html#gab94171c1a87b2e49b1e79cf649788f9a">TSI_DRV_ChangeMode</a> (const uint32_t instance, const <a class="el" href="group__tsi__driver.html#ga7a1c44ef526eb168efeb5325c4206202">tsi_modes_t</a> mode)</td></tr>
<tr class="memdesc:gab94171c1a87b2e49b1e79cf649788f9a"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function change the current working operation mode.  <a href="#gab94171c1a87b2e49b1e79cf649788f9a">More...</a><br/></td></tr>
<tr class="separator:gab94171c1a87b2e49b1e79cf649788f9a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9ca43223d8593d6bdf85010f92d443a1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__tsi__driver.html#ga7a1c44ef526eb168efeb5325c4206202">tsi_modes_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__tsi__driver.html#ga9ca43223d8593d6bdf85010f92d443a1">TSI_DRV_GetMode</a> (const uint32_t instance)</td></tr>
<tr class="memdesc:ga9ca43223d8593d6bdf85010f92d443a1"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function returns the current working operation mode.  <a href="#ga9ca43223d8593d6bdf85010f92d443a1">More...</a><br/></td></tr>
<tr class="separator:ga9ca43223d8593d6bdf85010f92d443a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga76582bb183c3840082f27ac1324af15b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__tsi__hal.html#gae16b0cb31944dd3b945dd1493bc9a756">tsi_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__tsi__driver.html#ga76582bb183c3840082f27ac1324af15b">TSI_DRV_LoadConfiguration</a> (const uint32_t instance, const <a class="el" href="group__tsi__driver.html#ga7a1c44ef526eb168efeb5325c4206202">tsi_modes_t</a> mode, const <a class="el" href="group__tsi__driver.html#structtsi__operation__mode__t">tsi_operation_mode_t</a> *operationMode)</td></tr>
<tr class="memdesc:ga76582bb183c3840082f27ac1324af15b"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function load to TSI driver configuration for specific mode.  <a href="#ga76582bb183c3840082f27ac1324af15b">More...</a><br/></td></tr>
<tr class="separator:ga76582bb183c3840082f27ac1324af15b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5c8f3f35d6567c4791dc83efdafbd80a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__tsi__hal.html#gae16b0cb31944dd3b945dd1493bc9a756">tsi_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__tsi__driver.html#ga5c8f3f35d6567c4791dc83efdafbd80a">TSI_DRV_SaveConfiguration</a> (const uint32_t instance, const <a class="el" href="group__tsi__driver.html#ga7a1c44ef526eb168efeb5325c4206202">tsi_modes_t</a> mode, <a class="el" href="group__tsi__driver.html#structtsi__operation__mode__t">tsi_operation_mode_t</a> *operationMode)</td></tr>
<tr class="memdesc:ga5c8f3f35d6567c4791dc83efdafbd80a"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function save the TSI driver configuration for specific mode.  <a href="#ga5c8f3f35d6567c4791dc83efdafbd80a">More...</a><br/></td></tr>
<tr class="separator:ga5c8f3f35d6567c4791dc83efdafbd80a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<hr/><h2 class="groupheader">Data Structure Documentation</h2>
<a name="structtsi__user__config__t" id="structtsi__user__config__t"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct tsi_user_config_t</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="textblock"><p>Use an instance of this structure with <a class="el" href="group__tsi__driver.html#ga2976594d78789f56469fb0103f5d7b69" title="This function initializes a TSI instance for operation. ">TSI_DRV_Init()</a>. This allows you to configure the most common settings of the TSI peripheral with a single function call. Settings include: </p>
</div><table class="memberdecls">
<tr><td colspan="2"><h3>Data Fields</h3></td></tr>
<tr class="memitem:ac06cfdf8d812c700ab637da3339bdddf"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__tsi__hal.html#structtsi__config__t">tsi_config_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__tsi__driver.html#ac06cfdf8d812c700ab637da3339bdddf">config</a></td></tr>
<tr class="separator:ac06cfdf8d812c700ab637da3339bdddf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aea54b7507dfc9e332622e2a44f94daed"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__tsi__driver.html#ga06c8a253cee00f407105143acbc36c36">tsi_callback_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__tsi__driver.html#aea54b7507dfc9e332622e2a44f94daed">pCallBackFunc</a></td></tr>
<tr class="separator:aea54b7507dfc9e332622e2a44f94daed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2085aae0f7ae35a02cd7ad7d8b9e886c"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__tsi__driver.html#a2085aae0f7ae35a02cd7ad7d8b9e886c">usrData</a></td></tr>
<tr class="separator:a2085aae0f7ae35a02cd7ad7d8b9e886c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h4 class="groupheader">Field Documentation</h4>
<a class="anchor" id="ac06cfdf8d812c700ab637da3339bdddf"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__tsi__hal.html#structtsi__config__t">tsi_config_t</a>* tsi_user_config_t::config</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>A pointer to hardware configuration. Can't be NULL. </p>

</div>
</div>
<a class="anchor" id="aea54b7507dfc9e332622e2a44f94daed"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__tsi__driver.html#ga06c8a253cee00f407105143acbc36c36">tsi_callback_t</a> tsi_user_config_t::pCallBackFunc</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>A pointer to call back function of end of mesurement. </p>

</div>
</div>
<a class="anchor" id="a2085aae0f7ae35a02cd7ad7d8b9e886c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* tsi_user_config_t::usrData</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>A user data of call back function. </p>

</div>
</div>

</div>
</div>
<a name="structtsi__operation__mode__t" id="structtsi__operation__mode__t"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct tsi_operation_mode_t</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="textblock"><p>This is operation mode data hold structure. The structure is keep all needed data to be driver able to switch the operation modes and properly set up HW peripheral. </p>
</div><table class="memberdecls">
<tr><td colspan="2"><h3>Data Fields</h3></td></tr>
<tr class="memitem:ab66c441a8faea7a6199294cad8c771dd"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__tsi__driver.html#ab66c441a8faea7a6199294cad8c771dd">enabledElectrodes</a></td></tr>
<tr class="separator:ab66c441a8faea7a6199294cad8c771dd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8cddbc1039612e84875d283b6cded424"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__tsi__hal.html#structtsi__config__t">tsi_config_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__tsi__driver.html#a8cddbc1039612e84875d283b6cded424">config</a></td></tr>
<tr class="separator:a8cddbc1039612e84875d283b6cded424"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h4 class="groupheader">Field Documentation</h4>
<a class="anchor" id="ab66c441a8faea7a6199294cad8c771dd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t tsi_operation_mode_t::enabledElectrodes</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The back up of enabled electrodes for operation mode </p>

</div>
</div>
<a class="anchor" id="a8cddbc1039612e84875d283b6cded424"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__tsi__hal.html#structtsi__config__t">tsi_config_t</a> tsi_operation_mode_t::config</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>A hardware configuration. </p>

</div>
</div>

</div>
</div>
<a name="structtsi__state__t" id="structtsi__state__t"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct tsi_state_t</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="textblock"><p>It must be created by application code and the pointer is handled by <a class="el" href="group__tsi__driver.html#ga2976594d78789f56469fb0103f5d7b69">TSI_DRV_Init</a> function to driver. The driver keeps all contex data for itself run. Settings include: </p>
</div><table class="memberdecls">
<tr><td colspan="2"><h3>Data Fields</h3></td></tr>
<tr class="memitem:ae19ca1a08e421fa65658cead53c49e86"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__tsi__hal.html#gae16b0cb31944dd3b945dd1493bc9a756">tsi_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__tsi__driver.html#ae19ca1a08e421fa65658cead53c49e86">status</a></td></tr>
<tr class="separator:ae19ca1a08e421fa65658cead53c49e86"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa7c406ef379aa3e8fea5aede456db957"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__tsi__driver.html#ga06c8a253cee00f407105143acbc36c36">tsi_callback_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__tsi__driver.html#aa7c406ef379aa3e8fea5aede456db957">pCallBackFunc</a></td></tr>
<tr class="separator:aa7c406ef379aa3e8fea5aede456db957"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9e451154d8ee74b74a583a6394652814"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__tsi__driver.html#a9e451154d8ee74b74a583a6394652814">usrData</a></td></tr>
<tr class="separator:a9e451154d8ee74b74a583a6394652814"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a395ec00d39eab4ce12e52af5bda848f7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__os__abstraction__bm.html#structsemaphore__t">semaphore_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__tsi__driver.html#a395ec00d39eab4ce12e52af5bda848f7">irqSync</a></td></tr>
<tr class="separator:a395ec00d39eab4ce12e52af5bda848f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac1fd33b7ecbdf7a44907271f189a6a7f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__os__abstraction__bm.html#structmutex__t">mutex_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__tsi__driver.html#ac1fd33b7ecbdf7a44907271f189a6a7f">lock</a></td></tr>
<tr class="separator:ac1fd33b7ecbdf7a44907271f189a6a7f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9fd679ccd03afe5c4477c1762c0b2d27"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__os__abstraction__bm.html#structmutex__t">mutex_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__tsi__driver.html#a9fd679ccd03afe5c4477c1762c0b2d27">lockChangeMode</a></td></tr>
<tr class="separator:a9fd679ccd03afe5c4477c1762c0b2d27"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af8e3ba257449ab95172cd51394ba18be"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__tsi__driver.html#af8e3ba257449ab95172cd51394ba18be">isBlockingMeasure</a></td></tr>
<tr class="separator:af8e3ba257449ab95172cd51394ba18be"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a51856ae9c21d087c3a26016a93b5ee35"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__tsi__driver.html#ga7a1c44ef526eb168efeb5325c4206202">tsi_modes_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__tsi__driver.html#a51856ae9c21d087c3a26016a93b5ee35">opMode</a></td></tr>
<tr class="separator:a51856ae9c21d087c3a26016a93b5ee35"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2b73eb0598f27f5f63df3225f98009ee"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__tsi__driver.html#structtsi__operation__mode__t">tsi_operation_mode_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__tsi__driver.html#a2b73eb0598f27f5f63df3225f98009ee">opModesData</a> [<a class="el" href="group__tsi__driver.html#gga7a1c44ef526eb168efeb5325c4206202ad60d8a0aea71a33bd97ffd1369aca8f0">tsi_OpModeCnt</a>]</td></tr>
<tr class="separator:a2b73eb0598f27f5f63df3225f98009ee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab4d1fd6cec6aaffc677c2c405a209998"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__tsi__driver.html#ab4d1fd6cec6aaffc677c2c405a209998">counters</a> [FSL_FEATURE_TSI_CHANNEL_COUNT]</td></tr>
<tr class="separator:ab4d1fd6cec6aaffc677c2c405a209998"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h4 class="groupheader">Field Documentation</h4>
<a class="anchor" id="ae19ca1a08e421fa65658cead53c49e86"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__tsi__hal.html#gae16b0cb31944dd3b945dd1493bc9a756">tsi_status_t</a> tsi_state_t::status</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Current status of the driver. </p>

</div>
</div>
<a class="anchor" id="aa7c406ef379aa3e8fea5aede456db957"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__tsi__driver.html#ga06c8a253cee00f407105143acbc36c36">tsi_callback_t</a> tsi_state_t::pCallBackFunc</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>A pointer to call back function of end of measurement. </p>

</div>
</div>
<a class="anchor" id="a9e451154d8ee74b74a583a6394652814"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* tsi_state_t::usrData</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>A user data pointer handled by call back function. </p>

</div>
</div>
<a class="anchor" id="a395ec00d39eab4ce12e52af5bda848f7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__os__abstraction__bm.html#structsemaphore__t">semaphore_t</a> tsi_state_t::irqSync</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Used to wait for ISR to complete its measure business. </p>

</div>
</div>
<a class="anchor" id="ac1fd33b7ecbdf7a44907271f189a6a7f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__os__abstraction__bm.html#structmutex__t">mutex_t</a> tsi_state_t::lock</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Used by whole driver to secure the context data integrity. </p>

</div>
</div>
<a class="anchor" id="a9fd679ccd03afe5c4477c1762c0b2d27"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__os__abstraction__bm.html#structmutex__t">mutex_t</a> tsi_state_t::lockChangeMode</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Used by chenge mode function to secure the context data integrity. </p>

</div>
</div>
<a class="anchor" id="af8e3ba257449ab95172cd51394ba18be"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool tsi_state_t::isBlockingMeasure</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Used to internal indication of type of measurement. </p>

</div>
</div>
<a class="anchor" id="a51856ae9c21d087c3a26016a93b5ee35"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__tsi__driver.html#ga7a1c44ef526eb168efeb5325c4206202">tsi_modes_t</a> tsi_state_t::opMode</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Storage of current operation mode. </p>

</div>
</div>
<a class="anchor" id="a2b73eb0598f27f5f63df3225f98009ee"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__tsi__driver.html#structtsi__operation__mode__t">tsi_operation_mode_t</a> tsi_state_t::opModesData[<a class="el" href="group__tsi__driver.html#gga7a1c44ef526eb168efeb5325c4206202ad60d8a0aea71a33bd97ffd1369aca8f0">tsi_OpModeCnt</a>]</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Data storage of individual operational modes. </p>

</div>
</div>
<a class="anchor" id="ab4d1fd6cec6aaffc677c2c405a209998"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t tsi_state_t::counters[FSL_FEATURE_TSI_CHANNEL_COUNT]</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The mirrow of last state of counter registers </p>

</div>
</div>

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a class="anchor" id="ga06c8a253cee00f407105143acbc36c36"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* tsi_callback_t)(uint32_t instance, void *usrData)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The function is called on end of the measure of the TSI driver. The function can be called from interrupt, so the code inside the callback should be short and fast. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">instance</td><td>- instance of the TSI peripheral </td></tr>
    <tr><td class="paramname">usrData</td><td>- user data (type is void*), the user data are specified by function <a class="el" href="group__tsi__driver.html#ga6e140c40dfd7bc97072f8f70c58710cc">TSI_DRV_SetCallBackFunc</a> </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>- none </dd></dl>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a class="anchor" id="ga7a1c44ef526eb168efeb5325c4206202"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__tsi__driver.html#ga7a1c44ef526eb168efeb5325c4206202">tsi_modes_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The operation name definition used for TSI driver. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><em><a class="anchor" id="gga7a1c44ef526eb168efeb5325c4206202a8476ba7726647ce5db603baf04cc51c6"></a>tsi_OpModeNormal</em>&nbsp;</td><td class="fielddoc">
<p>The normal mode of TSI. </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="gga7a1c44ef526eb168efeb5325c4206202adb05a5ac75ffb68159dc8ad0fe4b8d16"></a>tsi_OpModeProximity</em>&nbsp;</td><td class="fielddoc">
<p>The proximity sensing mode of TSI. </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="gga7a1c44ef526eb168efeb5325c4206202af218dcc0bee90e41180b5c58f3348d90"></a>tsi_OpModeLowPower</em>&nbsp;</td><td class="fielddoc">
<p>The low power mode of TSI. </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="gga7a1c44ef526eb168efeb5325c4206202a58b84285be55eef1195e1b382a13758a"></a>tsi_OpModeNoise</em>&nbsp;</td><td class="fielddoc">
<p>The noise mode of TSI. This mode is not valid with TSI HW, valid only fot TSIL HW. </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="gga7a1c44ef526eb168efeb5325c4206202ad60d8a0aea71a33bd97ffd1369aca8f0"></a>tsi_OpModeCnt</em>&nbsp;</td><td class="fielddoc">
<p>Count of TSI modes - for internal use. </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="gga7a1c44ef526eb168efeb5325c4206202afebbf66d4297f33475b1a0e09c64d7f0"></a>tsi_OpModeNoChange</em>&nbsp;</td><td class="fielddoc">
<p>The special value of operation mode that allows call for example <a class="el" href="group__tsi__driver.html#ga290d092f8283edb57aaebe9dfb050380">TSI_DRV_DisableLowPower</a> function without change of operation mode. </p>
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ga2976594d78789f56469fb0103f5d7b69"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__tsi__hal.html#gae16b0cb31944dd3b945dd1493bc9a756">tsi_status_t</a> TSI_DRV_Init </td>
          <td>(</td>
          <td class="paramtype">const uint32_t&#160;</td>
          <td class="paramname"><em>instance</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__tsi__driver.html#structtsi__state__t">tsi_state_t</a> *&#160;</td>
          <td class="paramname"><em>tsiState</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="group__tsi__driver.html#structtsi__user__config__t">tsi_user_config_t</a> *&#160;</td>
          <td class="paramname"><em>tsiUserConfig</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function will initialize the run-time state structure and prepare the whole peripheral for measure the capacitances on electrodes. </p>
<div class="fragment"><div class="line"><span class="keyword">static</span> <a class="code" href="group__tsi__driver.html#structtsi__state__t">tsi_state_t</a> myTsiDriverStateStructure;</div>
<div class="line"></div>
<div class="line"><a class="code" href="group__tsi__driver.html#structtsi__user__config__t">tsi_user_config_t</a> myTsiDriveruserConfig =</div>
<div class="line">{</div>
<div class="line"> .<a class="code" href="group__tsi__driver.html#ac06cfdf8d812c700ab637da3339bdddf">config</a> =</div>
<div class="line">    {</div>
<div class="line">       ...</div>
<div class="line">    },</div>
<div class="line">  .pCallBackFunc = APP_myTsiCallBackFunc,</div>
<div class="line">  .usrData = myData,</div>
<div class="line">};</div>
<div class="line"></div>
<div class="line"><span class="keywordflow">if</span>(<a class="code" href="group__tsi__driver.html#ga2976594d78789f56469fb0103f5d7b69">TSI_DRV_Init</a>(0, &amp;myTsiDriverStateStructure, &amp;myTsiDriveruserConfig) != kStatus_TSI_Success)</div>
<div class="line">{</div>
<div class="line">   <span class="comment">// Error, the TSI is not initialized</span></div>
<div class="line">}</div>
</div><!-- fragment --><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">instance</td><td>The TSI module instance. </td></tr>
    <tr><td class="paramname">tsiState</td><td>A pointer to the TSI driver state structure memory. The user is only responsible to pass in the memory for this run-time state structure where the TSI driver will take care of filling out the members. This run-time state structure keeps track of the current TSI peripheral and driver state. </td></tr>
    <tr><td class="paramname">tsiUserConfig</td><td>The user configuration structure of type <a class="el" href="group__tsi__driver.html#structtsi__user__config__t" title="User configuration structure for TSI driver. ">tsi_user_config_t</a>. The user is responsbile to fill out the members of this structure and to pass the pointer of this struct into this function. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>An error code or kStatus_TSI_Success. </dd></dl>

</div>
</div>
<a class="anchor" id="ga0466ad81463d80ed27ddbcecf6c88c10"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__tsi__hal.html#gae16b0cb31944dd3b945dd1493bc9a756">tsi_status_t</a> TSI_DRV_DeInit </td>
          <td>(</td>
          <td class="paramtype">const uint32_t&#160;</td>
          <td class="paramname"><em>instance</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function disables the TSI interrupts and disables the peripheral.</p>
<div class="fragment"><div class="line"><span class="keywordflow">if</span>(<a class="code" href="group__tsi__driver.html#ga0466ad81463d80ed27ddbcecf6c88c10">TSI_DRV_DeInit</a>(0) != kStatus_TSI_Success)</div>
<div class="line">{</div>
<div class="line">   <span class="comment">// Error, the TSI is not deinitialized</span></div>
<div class="line">}</div>
</div><!-- fragment --> <dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">instance</td><td>The TSI module instance. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>An error code or kStatus_TSI_Success. </dd></dl>

</div>
</div>
<a class="anchor" id="ga174e5287b3a0be9d94668193ae0becca"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__tsi__hal.html#gae16b0cb31944dd3b945dd1493bc9a756">tsi_status_t</a> TSI_DRV_EnableElectrode </td>
          <td>(</td>
          <td class="paramtype">const uint32_t&#160;</td>
          <td class="paramname"><em>instance</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint32_t&#160;</td>
          <td class="paramname"><em>channel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const bool&#160;</td>
          <td class="paramname"><em>enable</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Function must be called for each used electrodes after initialization of TSI driver.</p>
<div class="fragment"><div class="line">    <span class="comment">// On the TSI instance 0, enable electrode with index 5</span></div>
<div class="line"><span class="keywordflow">if</span>(<a class="code" href="group__tsi__driver.html#ga174e5287b3a0be9d94668193ae0becca">TSI_DRV_EnableElectrode</a>(0, 5, TRUE) != kStatus_TSI_Success)</div>
<div class="line">{</div>
<div class="line">    <span class="comment">// Error, the TSI 5&#39;th electrode is not enabled</span></div>
<div class="line">}</div>
</div><!-- fragment --> <dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">instance</td><td>The TSI module instance. </td></tr>
    <tr><td class="paramname">channel</td><td>Index of TSI channel. </td></tr>
    <tr><td class="paramname">enable</td><td>TRUE - for channel enable, FALSE for disable. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>An error code or kStatus_TSI_Success. </dd></dl>

</div>
</div>
<a class="anchor" id="ga7ffa5316c78aa42a412a2c4b2f59324a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t TSI_DRV_GetEnabledElectrodes </td>
          <td>(</td>
          <td class="paramtype">const uint32_t&#160;</td>
          <td class="paramname"><em>instance</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Function returns mask of the enabled electrodes of current mode.</p>
<div class="fragment"><div class="line">uint32_t enabledElectrodeMask;</div>
<div class="line">enabledElectrodeMask = <a class="code" href="group__tsi__driver.html#ga7ffa5316c78aa42a412a2c4b2f59324a">TSI_DRV_GetEnabledElectrodes</a>(0);</div>
</div><!-- fragment --> <dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">instance</td><td>The TSI module instance. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Mask of enebled electrodes for current mode. </dd></dl>

</div>
</div>
<a class="anchor" id="ga649340175707dd51e8837c342a49308b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__tsi__hal.html#gae16b0cb31944dd3b945dd1493bc9a756">tsi_status_t</a> TSI_DRV_Measure </td>
          <td>(</td>
          <td class="paramtype">const uint32_t&#160;</td>
          <td class="paramname"><em>instance</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Function is non blocking, so for the result must be wait after driver finish the measure cycle. The end of measure cycle can be checked by pooling <a class="el" href="group__tsi__driver.html#ga9bd6bda080a30faf39a52e83009688ae">TSI_DRV_GetStatus</a> function or wait for registered callback function by <a class="el" href="group__tsi__driver.html#ga6e140c40dfd7bc97072f8f70c58710cc">TSI_DRV_SetCallBackFunc</a> or <a class="el" href="group__tsi__driver.html#ga2976594d78789f56469fb0103f5d7b69">TSI_DRV_Init</a>.</p>
<div class="fragment"><div class="line"><span class="comment">// Example of pooling style of use of TSI_DRV_Measure() function</span></div>
<div class="line"><span class="keywordflow">if</span>(<a class="code" href="group__tsi__driver.html#ga649340175707dd51e8837c342a49308b">TSI_DRV_Measure</a>(0) != kStatus_TSI_Success)</div>
<div class="line">{</div>
<div class="line">    <span class="comment">// Error, the TSI 5&#39;th electrode is not enabled</span></div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="keywordflow">while</span>(<a class="code" href="group__tsi__driver.html#ga9bd6bda080a30faf39a52e83009688ae">TSI_DRV_GetStatus</a>(0) != <a class="code" href="group__tsi__hal.html#ggae16b0cb31944dd3b945dd1493bc9a756afda8ad7e97544c71305c90c2dfa61c42">kStatus_TSI_Initialized</a>)</div>
<div class="line">{</div>
<div class="line">    <span class="comment">// Do something useful - don&#39;t waste the CPU cycle time</span></div>
<div class="line">}</div>
</div><!-- fragment --> <dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">instance</td><td>The TSI module instance. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>An error code or kStatus_TSI_Success. </dd></dl>

</div>
</div>
<a class="anchor" id="gaf6b0b73c27e9702486d0c9edec395047"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__tsi__hal.html#gae16b0cb31944dd3b945dd1493bc9a756">tsi_status_t</a> TSI_DRV_MeasureBlocking </td>
          <td>(</td>
          <td class="paramtype">const uint32_t&#160;</td>
          <td class="paramname"><em>instance</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Function is blocking, so the after finish this function call, the result of measured electrodes is available immediately and can be get by <a class="el" href="group__tsi__driver.html#ga98592f74e7c041fc8a48f612db6e77d1">TSI_DRV_GetCounter</a> function.</p>
<div class="fragment"><div class="line"><span class="comment">// Example of pooling style of use of TSI_DRV_Measure() function</span></div>
<div class="line"><span class="keywordflow">if</span>(<a class="code" href="group__tsi__driver.html#gaf6b0b73c27e9702486d0c9edec395047">TSI_DRV_MeasureBlocking</a>(0) != kStatus_TSI_Success)</div>
<div class="line">{</div>
<div class="line">    <span class="comment">// Error, the TSI 5&#39;th electrode is not enabled</span></div>
<div class="line">}<span class="keywordflow">else</span></div>
<div class="line">{</div>
<div class="line">    <span class="comment">// Get the result by TSI_DRV_GetCounter function</span></div>
<div class="line">}</div>
</div><!-- fragment --> <dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">instance</td><td>The TSI module instance. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>An error code or kStatus_TSI_Success. </dd></dl>

</div>
</div>
<a class="anchor" id="ga99c9fb5e06edf8bf115fd20821b42657"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__tsi__hal.html#gae16b0cb31944dd3b945dd1493bc9a756">tsi_status_t</a> TSI_DRV_AbortMeasure </td>
          <td>(</td>
          <td class="paramtype">const uint32_t&#160;</td>
          <td class="paramname"><em>instance</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Function aborts currently running measure cycle, and it's designed for unexpected situations. Is not targeted for standard use.</p>
<div class="fragment"><div class="line"><span class="comment">// Start measure by @ref TSI_DRV_Measure() function</span></div>
<div class="line"><span class="keywordflow">if</span>(<a class="code" href="group__tsi__driver.html#ga649340175707dd51e8837c342a49308b">TSI_DRV_Measure</a>(0) != kStatus_TSI_Success)</div>
<div class="line">{</div>
<div class="line">    <span class="comment">// Error, the TSI 5&#39;th electrode is not enabled</span></div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="keywordflow">if</span>(isNeededAbort) <span class="comment">// I need abort measure from any application reason</span></div>
<div class="line">{</div>
<div class="line">    <a class="code" href="group__tsi__driver.html#ga99c9fb5e06edf8bf115fd20821b42657">TSI_DRV_AbortMeasure</a>(0);</div>
<div class="line">}</div>
</div><!-- fragment --> <dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">instance</td><td>The TSI module instance. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>An error code or kStatus_TSI_Success. </dd></dl>

</div>
</div>
<a class="anchor" id="ga98592f74e7c041fc8a48f612db6e77d1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__tsi__hal.html#gae16b0cb31944dd3b945dd1493bc9a756">tsi_status_t</a> TSI_DRV_GetCounter </td>
          <td>(</td>
          <td class="paramtype">const uint32_t&#160;</td>
          <td class="paramname"><em>instance</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint32_t&#160;</td>
          <td class="paramname"><em>channel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t *&#160;</td>
          <td class="paramname"><em>counter</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Function return the last measure values of previous measure cycle of driver the data are buffered inside of driver.</p>
<div class="fragment"><div class="line"><span class="comment">// Get the counter value from TSI instance 0 and 5th channel</span></div>
<div class="line"></div>
<div class="line">uint32_t result;</div>
<div class="line"></div>
<div class="line"><span class="keywordflow">if</span>(<a class="code" href="group__tsi__driver.html#ga98592f74e7c041fc8a48f612db6e77d1">TSI_DRV_GetCounter</a>(0, 5, &amp;result) != kStatus_TSI_Success)</div>
<div class="line">{</div>
<div class="line">    <span class="comment">// Error, the TSI 5&#39;th electrode is not readed</span></div>
<div class="line">}</div>
</div><!-- fragment --> <dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">instance</td><td>The TSI module instance. </td></tr>
    <tr><td class="paramname">channel</td><td>The TSI electrode index. </td></tr>
    <tr><td class="paramname">counter</td><td>The pointer to 16 bit value where will be stored channel counter value. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>An error code or kStatus_TSI_Success. </dd></dl>

</div>
</div>
<a class="anchor" id="ga9bd6bda080a30faf39a52e83009688ae"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__tsi__hal.html#gae16b0cb31944dd3b945dd1493bc9a756">tsi_status_t</a> TSI_DRV_GetStatus </td>
          <td>(</td>
          <td class="paramtype">const uint32_t&#160;</td>
          <td class="paramname"><em>instance</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Function return the current working status of the driver.</p>
<div class="fragment"><div class="line"><span class="comment">// Get the current status of TSI driver</span></div>
<div class="line"></div>
<div class="line"><a class="code" href="group__tsi__hal.html#gae16b0cb31944dd3b945dd1493bc9a756">tsi_status_t</a> status;</div>
<div class="line"></div>
<div class="line">status = <a class="code" href="group__tsi__driver.html#ga9bd6bda080a30faf39a52e83009688ae">TSI_DRV_GetStatus</a>(0);</div>
</div><!-- fragment --> <dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">instance</td><td>The TSI module instance. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>An current status of the driver. </dd></dl>

</div>
</div>
<a class="anchor" id="gafdcc842db40a6dc80a1eadfac2eecdfc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__tsi__hal.html#gae16b0cb31944dd3b945dd1493bc9a756">tsi_status_t</a> TSI_DRV_EnableLowPower </td>
          <td>(</td>
          <td class="paramtype">const uint32_t&#160;</td>
          <td class="paramname"><em>instance</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Function switch the driver to low power mode and immediately enable the low power functionality of TSI peripheral. Before calling this function the low power mode must be configured - Enabled right electrode and recalibrate the low power mode to get best performance for this mode.</p>
<div class="fragment"><div class="line"><span class="comment">// Switch the driver to the low power mode</span></div>
<div class="line">uint16_t signal;</div>
<div class="line"></div>
<div class="line"><span class="comment">// For fisrt time is needed configure the low power mode configuration</span></div>
<div class="line"></div>
<div class="line">(void)<a class="code" href="group__tsi__driver.html#gab94171c1a87b2e49b1e79cf649788f9a">TSI_DRV_ChangeMode</a>(0, <a class="code" href="group__tsi__driver.html#gga7a1c44ef526eb168efeb5325c4206202af218dcc0bee90e41180b5c58f3348d90">tsi_OpModeLowPower</a>); <span class="comment">// I don&#39;t check the result because I believe in.</span></div>
<div class="line"><span class="comment">// Enable the right one electrode for low power ake up operation</span></div>
<div class="line">(void)<a class="code" href="group__tsi__driver.html#ga174e5287b3a0be9d94668193ae0becca">TSI_DRV_EnableElectrode</a>(0, 5, <span class="keyword">true</span>);</div>
<div class="line"><span class="comment">// Recalibrate the mode to get the best performance for this one electrode</span></div>
<div class="line">(void)<a class="code" href="group__tsi__driver.html#ga03f53923a31a33ef995ae25a3bd542e3">TSI_DRV_Recalibrate</a>(0, &amp;signal);</div>
<div class="line"></div>
<div class="line"><span class="keywordflow">if</span>(<a class="code" href="group__tsi__driver.html#gafdcc842db40a6dc80a1eadfac2eecdfc">TSI_DRV_EnableLowPower</a>(0) != kStatus_TSI_Success)</div>
<div class="line">{</div>
<div class="line">    <span class="comment">// Error, the TSI driver can&#39;t go to low power mode</span></div>
<div class="line">}</div>
</div><!-- fragment --> <dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">instance</td><td>The TSI module instance. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>An error code or kStatus_TSI_Success. </dd></dl>

</div>
</div>
<a class="anchor" id="ga290d092f8283edb57aaebe9dfb050380"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__tsi__hal.html#gae16b0cb31944dd3b945dd1493bc9a756">tsi_status_t</a> TSI_DRV_DisableLowPower </td>
          <td>(</td>
          <td class="paramtype">const uint32_t&#160;</td>
          <td class="paramname"><em>instance</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="group__tsi__driver.html#ga7a1c44ef526eb168efeb5325c4206202">tsi_modes_t</a>&#160;</td>
          <td class="paramname"><em>mode</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Function switch the driver back form low power mode and it can immediately change the operation mode to any other or keep the driver in low power configuration, to be able go back to low power state.</p>
<div class="fragment"><div class="line"><span class="comment">// Switch the driver from the low power mode</span></div>
<div class="line"></div>
<div class="line"><span class="keywordflow">if</span>(<a class="code" href="group__tsi__driver.html#ga290d092f8283edb57aaebe9dfb050380">TSI_DRV_DisableLowPower</a>(0, <a class="code" href="group__tsi__driver.html#gga7a1c44ef526eb168efeb5325c4206202a8476ba7726647ce5db603baf04cc51c6">tsi_OpModeNormal</a>) != kStatus_TSI_Success)</div>
<div class="line">{</div>
<div class="line">    <span class="comment">// Error, the TSI driver can&#39;t go from low power mode</span></div>
<div class="line">}</div>
</div><!-- fragment --> <dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">instance</td><td>The TSI module instance. </td></tr>
    <tr><td class="paramname">mode</td><td>The new operation mode request </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>An error code or kStatus_TSI_Success. </dd></dl>

</div>
</div>
<a class="anchor" id="ga03f53923a31a33ef995ae25a3bd542e3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__tsi__hal.html#gae16b0cb31944dd3b945dd1493bc9a756">tsi_status_t</a> TSI_DRV_Recalibrate </td>
          <td>(</td>
          <td class="paramtype">const uint32_t&#160;</td>
          <td class="paramname"><em>instance</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t *&#160;</td>
          <td class="paramname"><em>lowestSignal</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Function force the the driver to start the recalibration procedure for current operation mode to get best possible TSI hardware settings. The computed setting will be store into the operation mode data and can be Load &amp; Save by <a class="el" href="group__tsi__driver.html#ga76582bb183c3840082f27ac1324af15b">TSI_DRV_LoadConfiguration</a> or <a class="el" href="group__tsi__driver.html#ga5c8f3f35d6567c4791dc83efdafbd80a">TSI_DRV_SaveConfiguration</a> functions.</p>
<dl class="section warning"><dt>Warning</dt><dd>The function could take bigger amount of time (it cannot be specified exact value) and is blocking.</dd></dl>
<div class="fragment"><div class="line"><span class="comment">// Recalibrate current mode</span></div>
<div class="line">uint16_t signal;</div>
<div class="line"></div>
<div class="line"><span class="comment">// Recalibrate the mode to get the best performance for this one electrode</span></div>
<div class="line"></div>
<div class="line"><span class="keywordflow">if</span>(<a class="code" href="group__tsi__driver.html#ga03f53923a31a33ef995ae25a3bd542e3">TSI_DRV_Recalibrate</a>(0, &amp;signal) != kStatus_TSI_Success)</div>
<div class="line">{</div>
<div class="line">    <span class="comment">// Error, the TSI driver can&#39;t recalibrate this mdoe</span></div>
<div class="line">}</div>
</div><!-- fragment --> <dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">instance</td><td>The TSI module instance. </td></tr>
    <tr><td class="paramname">lowestSignal</td><td>The pointer to variable where will be store the lowest signal of all electrodes </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>An error code or kStatus_TSI_Success. </dd></dl>

</div>
</div>
<a class="anchor" id="ga6e140c40dfd7bc97072f8f70c58710cc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__tsi__hal.html#gae16b0cb31944dd3b945dd1493bc9a756">tsi_status_t</a> TSI_DRV_SetCallBackFunc </td>
          <td>(</td>
          <td class="paramtype">const uint32_t&#160;</td>
          <td class="paramname"><em>instance</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="group__tsi__driver.html#ga06c8a253cee00f407105143acbc36c36">tsi_callback_t</a>&#160;</td>
          <td class="paramname"><em>pFuncCallBack</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>usrData</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Function set up or clear (parameter pFuncCallBack = NULL), the callback function pointer which will be called after each measure cycle ends. The user can also set own user data, that will be handled by parameter to call back function (can be used to call one function by more sources).</p>
<div class="fragment"><div class="line"><span class="comment">// Clear previous call back function</span></div>
<div class="line"></div>
<div class="line"><span class="keywordflow">if</span>(<a class="code" href="group__tsi__driver.html#ga6e140c40dfd7bc97072f8f70c58710cc">TSI_DRV_SetCallBackFunc</a>(0, NULL, NULL) != kStatus_TSI_Success)</div>
<div class="line">{</div>
<div class="line">    <span class="comment">// Error, the TSI driver can&#39;t set up the call back function at the momment</span></div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="comment">// Set new call back function</span></div>
<div class="line"></div>
<div class="line"><span class="keywordflow">if</span>(<a class="code" href="group__tsi__driver.html#ga6e140c40dfd7bc97072f8f70c58710cc">TSI_DRV_SetCallBackFunc</a>(0, myFunction, (<span class="keywordtype">void</span>*)0x12345678) != kStatus_TSI_Success)</div>
<div class="line">{</div>
<div class="line">    <span class="comment">// Error, the TSI driver can&#39;t set up the call back function at the momment</span></div>
<div class="line">}</div>
</div><!-- fragment --> <dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">instance</td><td>The TSI module instance. </td></tr>
    <tr><td class="paramname">pFuncCallBack</td><td>The pointer to application call back function </td></tr>
    <tr><td class="paramname">usrData</td><td>The user data pointer </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>An error code or kStatus_TSI_Success. </dd></dl>

</div>
</div>
<a class="anchor" id="gab94171c1a87b2e49b1e79cf649788f9a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__tsi__hal.html#gae16b0cb31944dd3b945dd1493bc9a756">tsi_status_t</a> TSI_DRV_ChangeMode </td>
          <td>(</td>
          <td class="paramtype">const uint32_t&#160;</td>
          <td class="paramname"><em>instance</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="group__tsi__driver.html#ga7a1c44ef526eb168efeb5325c4206202">tsi_modes_t</a>&#160;</td>
          <td class="paramname"><em>mode</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Function change the working operation mode of driver.</p>
<div class="fragment"><div class="line"><span class="comment">// Change operation mode to low power</span></div>
<div class="line"></div>
<div class="line"><span class="keywordflow">if</span>(<a class="code" href="group__tsi__driver.html#gab94171c1a87b2e49b1e79cf649788f9a">TSI_DRV_ChangeMode</a>(0, <a class="code" href="group__tsi__driver.html#gga7a1c44ef526eb168efeb5325c4206202af218dcc0bee90e41180b5c58f3348d90">tsi_OpModeLowPower</a>) != kStatus_TSI_Success)</div>
<div class="line">{</div>
<div class="line">    <span class="comment">// Error, the TSI driver can&#39;t change the operation mode into low power</span></div>
<div class="line">}</div>
</div><!-- fragment --> <dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">instance</td><td>The TSI module instance. </td></tr>
    <tr><td class="paramname">mode</td><td>The requested new operation mode </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>An error code or kStatus_TSI_Success. </dd></dl>

</div>
</div>
<a class="anchor" id="ga9ca43223d8593d6bdf85010f92d443a1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__tsi__driver.html#ga7a1c44ef526eb168efeb5325c4206202">tsi_modes_t</a> TSI_DRV_GetMode </td>
          <td>(</td>
          <td class="paramtype">const uint32_t&#160;</td>
          <td class="paramname"><em>instance</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Function returns the current working operation mode of driver.</p>
<div class="fragment"><div class="line"><span class="comment">// Gets current operation mode of TSI driver</span></div>
<div class="line"><a class="code" href="group__tsi__driver.html#ga7a1c44ef526eb168efeb5325c4206202">tsi_modes_t</a> mode;</div>
<div class="line"></div>
<div class="line">mode = <a class="code" href="group__tsi__driver.html#ga9ca43223d8593d6bdf85010f92d443a1">TSI_DRV_GetMode</a>(0);</div>
</div><!-- fragment --> <dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">instance</td><td>The TSI module instance. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>An current operation mode of TSI driver. </dd></dl>

</div>
</div>
<a class="anchor" id="ga76582bb183c3840082f27ac1324af15b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__tsi__hal.html#gae16b0cb31944dd3b945dd1493bc9a756">tsi_status_t</a> TSI_DRV_LoadConfiguration </td>
          <td>(</td>
          <td class="paramtype">const uint32_t&#160;</td>
          <td class="paramname"><em>instance</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="group__tsi__driver.html#ga7a1c44ef526eb168efeb5325c4206202">tsi_modes_t</a>&#160;</td>
          <td class="paramname"><em>mode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="group__tsi__driver.html#structtsi__operation__mode__t">tsi_operation_mode_t</a> *&#160;</td>
          <td class="paramname"><em>operationMode</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Function loads the new configuration into specific mode. This can be used when the calibrated data are store in any NVM to load after startup of MCU, to avoid run recalibration what takes a bigger amount of time.</p>
<div class="fragment"><div class="line"><span class="comment">// Load operation mode configuration</span></div>
<div class="line"></div>
<div class="line"><span class="keyword">extern</span> <span class="keyword">const</span> <a class="code" href="group__tsi__driver.html#structtsi__operation__mode__t">tsi_operation_mode_t</a> * myTsiNvmLowPowerConfiguration;</div>
<div class="line"></div>
<div class="line"><span class="keywordflow">if</span>(<a class="code" href="group__tsi__driver.html#ga76582bb183c3840082f27ac1324af15b">TSI_DRV_LoadConfiguration</a>(0, <a class="code" href="group__tsi__driver.html#gga7a1c44ef526eb168efeb5325c4206202af218dcc0bee90e41180b5c58f3348d90">tsi_OpModeLowPower</a>, myTsiNvmLowPowerConfiguration) != kStatus_TSI_Success)</div>
<div class="line">{</div>
<div class="line">    <span class="comment">// Error, the TSI driver can&#39;t load the configuration</span></div>
<div class="line">}</div>
</div><!-- fragment --> <dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">instance</td><td>The TSI module instance. </td></tr>
    <tr><td class="paramname">mode</td><td>The requested new operation mode </td></tr>
    <tr><td class="paramname">operationMode</td><td>The pointer to storage place of the configuration that should be loaded </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>An error code or kStatus_TSI_Success. </dd></dl>

</div>
</div>
<a class="anchor" id="ga5c8f3f35d6567c4791dc83efdafbd80a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__tsi__hal.html#gae16b0cb31944dd3b945dd1493bc9a756">tsi_status_t</a> TSI_DRV_SaveConfiguration </td>
          <td>(</td>
          <td class="paramtype">const uint32_t&#160;</td>
          <td class="paramname"><em>instance</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="group__tsi__driver.html#ga7a1c44ef526eb168efeb5325c4206202">tsi_modes_t</a>&#160;</td>
          <td class="paramname"><em>mode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__tsi__driver.html#structtsi__operation__mode__t">tsi_operation_mode_t</a> *&#160;</td>
          <td class="paramname"><em>operationMode</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Function saves the configuration of specific mode. This can be used when the calibrated data should be stored in any backup memory to load after startup of MCU, to avoid run recalibration what takes a bigger amount of time.</p>
<div class="fragment"><div class="line"><span class="comment">// Save operation mode configuration</span></div>
<div class="line"></div>
<div class="line"><span class="keyword">extern</span> <a class="code" href="group__tsi__driver.html#structtsi__operation__mode__t">tsi_operation_mode_t</a>  myTsiNvmLowPowerConfiguration;</div>
<div class="line"></div>
<div class="line"><span class="keywordflow">if</span>(<a class="code" href="group__tsi__driver.html#ga5c8f3f35d6567c4791dc83efdafbd80a">TSI_DRV_SaveConfiguration</a>(0, <a class="code" href="group__tsi__driver.html#gga7a1c44ef526eb168efeb5325c4206202af218dcc0bee90e41180b5c58f3348d90">tsi_OpModeLowPower</a>, &amp;myTsiNvmLowPowerConfiguration) != kStatus_TSI_Success)</div>
<div class="line">{</div>
<div class="line">    <span class="comment">// Error, the TSI driver can&#39;t save the configuration</span></div>
<div class="line">}</div>
</div><!-- fragment --> <dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">instance</td><td>The TSI module instance. </td></tr>
    <tr><td class="paramname">mode</td><td>The requested new operation mode </td></tr>
    <tr><td class="paramname">operationMode</td><td>The pointer to storage place of the configuration that should be save </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>An error code or kStatus_TSI_Success. </dd></dl>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a class="anchor" id="ga778b7d6c684ec87b9ea4825c6c899dc0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const uint32_t g_tsiBaseAddr[]</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ga6884d9c16e38b9d9674a3557319e8bf3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const IRQn_Type g_tsiIrqId[HW_TSI_INSTANCE_COUNT]</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ga954ff9a99e8e54c31c8a19b35481c4de"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__tsi__driver.html#structtsi__state__t">tsi_state_t</a>* g_tsiStatePtr[HW_TSI_INSTANCE_COUNT]</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.5-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul class="foot">
    <li class="footer">Fri Dec 12 2014 &copy; 2014 Freescale Semiconductor, Inc. All rights reserved. 
    </li>
  </ul>
</div>
</body>
</html>
